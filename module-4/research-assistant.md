# 研究アシスタント

## レビュー

これまでにLangGraphの主要なテーマをいくつか取り上げてきました：

* メモリ
* ヒューマンインザループ
* 制御性

今回は、これらのアイデアを組み合わせて、AIの最も一般的なアプリケーションの1つである研究自動化に取り組みます。

研究は、アナリストに委ねられることが多い骨の折れる作業です。AIにはこれを支援する大きな可能性があります。

しかし、研究にはカスタマイズが必要です：生のLLMの出力は、実際の意思決定ワークフローには適していないことが多いです。

カスタマイズされたAIベースの研究とレポート生成ワークフローは、これを解決する有望な方法です。

## 目標

私たちの目標は、チャットモデルを中心とした軽量なマルチエージェントシステムを構築し、研究プロセスをカスタマイズすることです。

`ソース選択`
* ユーザーは研究のための入力ソースを任意に選択できます。
  
`計画`
* ユーザーがトピックを提供し、システムが各サブトピックに焦点を当てたAIアナリストのチームを生成します。
* 研究開始前に、これらのサブトピックを改善するために`ヒューマンインザループ`が使用されます。
  
`LLM活用`
* 各アナリストは、選択されたソースを使用して専門家AIと詳細なインタビューを実施します。
* インタビューは、STORM論文で示されているように、詳細な洞察を抽出するためのマルチターン会話となります。
* これらのインタビューは、内部状態を持つ`サブグラフ`を使用して記録されます。
   
`研究プロセス`
* 専門家は`並列`でアナリストの質問に答えるための情報を収集します。
* すべてのインタビューは`マップリデュース`を通じて同時に実施されます。

`出力形式`
* 各インタビューから収集した洞察は最終レポートに統合されます。
* レポートには柔軟な出力形式を可能にするカスタマイズ可能なプロンプトを使用します。

## セットアップ

このノートブックを実行するには、以下のパッケージをインストールする必要があります：

```python
%%capture --no-stderr
%pip install --quiet -U langgraph langchain_openai langchain_community langchain_core tavily-python wikipedia
```

また、以下の環境変数を設定する必要があります：

- OPENAI_API_KEY
- LANGCHAIN_API_KEY

これらのAPIキーは、それぞれOpenAIとLangChainのサービスを利用するために必要です。

## アナリストの生成：ヒューマンインザループ

アナリストを生成し、ヒューマンインザループを使用してレビューします。このプロセスでは：

1. 研究トピックに基づいて適切なアナリストのセットを生成します
2. 生成されたアナリストをユーザーがレビューします
3. フィードバックに基づいてアナリストを調整します

このアプローチにより、研究の方向性と焦点を効果的に調整することができます。 